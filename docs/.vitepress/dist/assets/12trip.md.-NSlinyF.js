import{_ as A,p as _,o as y,c as m,j as d,t as p,a2 as W,a3 as I,F as O,C as R,n as L,G}from"./chunks/framework.D2q5ST7L.js";let s;const D=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&D.decode();let b=null;function v(){return(b===null||b.byteLength===0)&&(b=new Uint8Array(s.memory.buffer)),b}function S(e,t){return e=e>>>0,D.decode(v().subarray(e,e+t))}let x=0;const h=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},U=typeof h.encodeInto=="function"?function(e,t){return h.encodeInto(e,t)}:function(e,t){const r=h.encode(e);return t.set(r),{read:e.length,written:r.length}};function V(e,t,r){if(r===void 0){const a=h.encode(e),c=t(a.length,1)>>>0;return v().subarray(c,c+a.length).set(a),x=a.length,c}let n=e.length,o=t(n,1)>>>0;const f=v();let i=0;for(;i<n;i++){const a=e.charCodeAt(i);if(a>127)break;f[o+i]=a}if(i!==n){i!==0&&(e=e.slice(i)),o=r(o,n,n=i+e.length*3,1)>>>0;const a=v().subarray(o+i,o+n),c=U(e,a);i+=c.written,o=r(o,n,i,1)>>>0}return x=i,o}let l=null;function T(){return(l===null||l.buffer.detached===!0||l.buffer.detached===void 0&&l.buffer!==s.memory.buffer)&&(l=new DataView(s.memory.buffer)),l}function j(e){let t,r;try{const f=s.__wbindgen_add_to_stack_pointer(-16),i=V(e,s.__wbindgen_malloc,s.__wbindgen_realloc),a=x;s.trip12(f,i,a);var n=T().getInt32(f+4*0,!0),o=T().getInt32(f+4*1,!0);return t=n,r=o,S(n,o)}finally{s.__wbindgen_add_to_stack_pointer(16),s.__wbindgen_free(t,r,1)}}function B(){let e,t;try{const o=s.__wbindgen_add_to_stack_pointer(-16);s.generate_random_string_wasm(o);var r=T().getInt32(o+4*0,!0),n=T().getInt32(o+4*1,!0);return e=r,t=n,S(r,n)}finally{s.__wbindgen_add_to_stack_pointer(16),s.__wbindgen_free(e,t,1)}}function F(e){return()=>{throw new Error(`${e} is not defined`)}}async function N(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(n){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",n);else throw n}const r=await e.arrayBuffer();return await WebAssembly.instantiate(r,t)}else{const r=await WebAssembly.instantiate(e,t);return r instanceof WebAssembly.Instance?{instance:r,module:e}:r}}function z(){const e={};return e.wbg={},e.wbg.__wbg_random_4a6f48b07d1eab14=typeof Math.random=="function"?Math.random:F("Math.random"),e.wbg.__wbindgen_throw=function(t,r){throw new Error(S(t,r))},e}function P(e,t){return s=e.exports,k.__wbindgen_wasm_module=t,l=null,b=null,s}async function k(e){if(s!==void 0)return s;typeof e<"u"&&Object.getPrototypeOf(e)===Object.prototype?{module_or_path:e}=e:console.warn("using deprecated parameters for the initialization function; pass a single object instead"),typeof e>"u"&&(e=new URL("/assets/tripcode_bg.ilTuRNEL.wasm",import.meta.url));const t=z();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:r,module:n}=await N(await e,t);return P(r,n)}const q={name:"TripcodeGenerator",setup(){const e=_(""),t=_([]),r=_("トリップに含めたい文字を入力してください"),n=_("検索");let o=_(!1);return{inputStr:e,results:t,status:r,buttonText:n,startGeneration:async()=>{if(n.value==="検索"){if(!/^[\w./]*$/.test(e.value)){alert("半角英数字および./のみ使用できます。");return}if(e.value.length===0){alert("文字が入力されていません。");return}if(e.value.length>12){alert("文字数が12文字を超えています。");return}o.value=!1,n.value="停止",await k(),(async()=>{let c=0,u=Date.now();for(;!o.value;){const w=B(),C=j(w);if(C.startsWith(e.value)&&t.value.unshift({tripcode:C,randomString:w,copied:!1}),c++,c%1e3===0&&await new Promise(g=>setTimeout(g,0)),c===1e4){const g=Date.now(),E=g-u,M=Math.floor(1e4/(E/1e3));r.value=`検索速度: ${M.toLocaleString()} tripcodes/s`,u=g,c=0}}})()}else o.value=!0,n.value="検索"},copyToClipboard:async a=>{const c=`#${a}`;await navigator.clipboard.writeText(c);const u=t.value.find(w=>w.randomString===a);u&&(u.copied=!0,setTimeout(()=>{u.copied=!1},2e3))}}}},$={class:"app"},J={id:"status"},K={class:"input-container"},H={id:"results"},Q=["onClick"];function X(e,t,r,n,o,f){return y(),m("div",$,[t[2]||(t[2]=d("div",{class:"text-horizontal-center"},[d("h1",null,"12桁トリップ作成ツール")],-1)),d("div",J,p(n.status),1),d("div",K,[W(d("input",{type:"text",class:"textbox","onUpdate:modelValue":t[0]||(t[0]=i=>n.inputStr=i),placeholder:"検索方法 : 前方一致"},null,512),[[I,n.inputStr]]),d("button",{class:"button",onClick:t[1]||(t[1]=(...i)=>n.startGeneration&&n.startGeneration(...i))},p(n.buttonText),1)]),d("div",H,[(y(!0),m(O,null,R(n.results,(i,a)=>(y(),m("div",{key:a,class:"result-item"},[d("span",null,"◆"+p(i.tripcode)+" #"+p(i.randomString),1),d("span",{class:L(["copy-text",{ok:i.copied}]),onClick:c=>n.copyToClipboard(i.randomString)},p(i.copied?"OK!":"コピー"),11,Q)]))),128))])])}const Y=A(q,[["render",X],["__scopeId","data-v-e9f3dc93"]]),te=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"12trip.md","filePath":"12trip.md"}'),Z={name:"12trip.md"},ne=Object.assign(Z,{setup(e){return(t,r)=>(y(),m("div",null,[G(Y)]))}});export{te as __pageData,ne as default};
